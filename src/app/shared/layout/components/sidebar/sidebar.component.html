<div class="sidebar-container">
    <div class="overlay" *ngIf="isOpen" (click)="onClose()"></div>
    <div class="sidebar" [class.active]="isOpen">
        <nav>
            <a routerLink="/">
                <i class="fas fa-home"></i> Home
            </a>
            <div class="menu-item" (click)="toggleSubMenu('becomeMember')">
                <span class="label">
                    <i class="fas fa-user"></i> {{ 'MENU_MEMBER' | translate }}
                    <i class="arrow fas"
                        [ngClass]="isSubMenuOpen['becomeMember'] ? 'fa-angle-up' : 'fa-angle-down'"></i>
                </span>
                <div class="sub-menu" *ngIf="isSubMenuOpen['becomeMember']">
                    <a routerLink="/become-member">
                        <i class="fas fa-user-check"></i> {{ 'MENU_BECOME_MEMBER' | translate }}
                    </a>
                    <a routerLink="/list-member" *ngIf="user | hasRole:['ROLE_ADMIN', 'ROLE_MONITORING']">
                        <i class="fas fa-users"></i> {{ 'MENU_LIST_MEMBER' | translate }}
                    </a>
                    <a routerLink="/charts-member" *ngIf="user | hasRole:['ROLE_ADMIN', 'ROLE_MONITORING']">
                        <i class="fas fa-chart-pie"></i> {{ 'MENU_CHARTS_MEMBER' | translate }}
                    </a>
                </div>
            </div>
            <div class="menu-item" (click)="toggleSubMenu('events')">
                <span class="label">
                    <i class="fas fa-calendar-alt"></i> {{ 'MENU_EVENTS' | translate }}
                    <i class="arrow fas" [ngClass]="isSubMenuOpen['events'] ? 'fa-angle-up' : 'fa-angle-down'"></i>
                </span>
                <div class="sub-menu" *ngIf="isSubMenuOpen['events']">
                    <a routerLink="/events">
                        <i class="fas fa-list-alt"></i> {{ 'MENU_LIST_EVENTS' | translate }}
                    </a>
                    <a routerLink="/create-event" *ngIf="user | hasRole:['ROLE_ADMIN', 'ROLE_MONITORING']">
                        <i class="fas fa-plus-circle"></i> {{ 'MENU_CREATE_EVENTS' | translate }}
                    </a>
                    <a routerLink="/calendar-events">
                        <i class="fas fa-calendar"></i> {{ 'MENU_CALENDAR_EVENTS' | translate }}
                    </a>
                </div>
            </div>

            <a routerLink="/organigramma">
                <i class="fas fa-sitemap"></i> {{ 'MENU_ORGANIGRAM' | translate }}
            </a>
            <a routerLink="/contacts">
                <i class="fas fa-address-book"></i> {{ 'MENU_CONTACTS' | translate }}
            </a>
            <hr>
            <a routerLink="/terms-and-conditions" class="nav-link">
                <i class="fas fa-file-contract"></i> {{ 'MENU_TERMS_CONDITIONS' | translate }}
            </a>
            <a routerLink="/privacy-policy" class="nav-link">
                <i class="fas fa-user-shield"></i> {{ 'MENU_PRIVACY_POLICY' | translate }}
            </a>

            <hr>
            <a *ngIf="!isAuthenticated" routerLink="/login">
                <i class="fas fa-sign-in-alt"></i> Login
            </a>
            <a *ngIf="isAuthenticated" routerLink="/profile">
                <i class="fas fa-user-circle"></i> {{ 'MENU_PROFILE' | translate }}
            </a>
            <hr>
            <a *ngIf="isAuthenticated" (click)="logout()">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
        </nav>
    </div>
    <button class="menu-button" (click)="onToggle()">&#9776;</button>
</div>